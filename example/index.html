<!DOCTYPE html>
<html lang="en">

<head>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/p5.brush@1.1.1/dist/p5.brush.js"></script>
    <link rel="stylesheet" type="text/css" href="style.css">
  <meta charset="utf-8" />

</head>

<body>
  <div class="content">
    <div class="header" style="display: flex; flex-direction: column; justify-content: center;">
      <img style="align-self: center; width: 700px;" src="/img/14-02.png" />
      <!-- <h1>Birdsong of Sorrow aboveÂ Ukraine</h1> -->
    <p style="margin-bottom: 48px">Lorem ipsum dolor sit amet consectetur. Ullamcorper at arcu eu non nibh pulvinar urna etiam tincidunt. In augue elementum eget sodales eget vehicula. </p>
  </div>

    <!-- Segmented control to switch between scripts -->
    <div>
      <div id="test" class="test"></div>
      <button id="btnGrid" class="btn-segment active" onclick="switchScript('grid')">Month by month</button>
      <button id="btnAnimation" class="btn-segment" onclick="switchScript('animation')">All at Once</button>
    </div>

    <!-- Container for p5 canvas -->
    <main id="canvas-container"></main>

  <!-- Dynamic loading of p5.js sketches -->
  <script>
    let currentSketch;

    // Function to clear and redraw the canvas
    function clearCanvas() {
      const main = document.getElementById('canvas-container');
      main.innerHTML = '';  // Clear the current canvas
    }

    // Function to switch between scripts
    function switchScript(type) {
      
      // Reset button styles
      document.getElementById('btnGrid').classList.remove('active');
      document.getElementById('btnAnimation').classList.remove('active');

      // Set active button
      if (type === 'grid') {
        document.getElementById('btnGrid').classList.add('active');
      } else {
        document.getElementById('btnAnimation').classList.add('active');
      }

      // Remove the current sketch if it exists
      if (currentSketch) {
        currentSketch.remove(); // This will remove the canvas created by p5.js
      }

      clearCanvas();  // Clear the container for the canvas

      // Dynamically load the correct sketch
      if (type === 'grid') {
        currentSketch = new p5(sketchGrid, 'canvas-container'); 
      } else {
        currentSketch = new p5(sketchAnimation, 'canvas-container'); 
      }
    }

    // Load the default sketch (Grid) when the page loads
    window.onload = () => {
      switchScript('grid');
    };
  </script>

  <!-- Load the external sketches -->
  <script src="sketchTest.js"></script>
  <script src="sketchAnimation.js"></script>

</body>

</html>
